<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helados Rica Fruta - Domicilios</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-pink: #ffdae9;
            --brand-red: #e63946;
        }
        body { background-color: #fdf2f8; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .product-card { transition: transform 0.2s; }
        .product-card:hover { transform: scale(1.02); }
        .bg-brand { background-color: #f472b6; }
    </style>
</head>
<body class="pb-24">

    <header class="bg-white shadow-md p-4 text-center sticky top-0 z-50">
        <img src="rica-fruta.PNG" alt="Logo Rica Fruta" class="mx-auto h-24 mb-2">
        <h1 class="text-xl font-bold text-pink-600">PEDIDOS DOMICILIOS</h1>
        <p class="text-sm text-gray-600"><i class="fab fa-whatsapp text-green-500"></i> 3137220124 | B. El Tri谩ngulo</p>
    </header>

    <main class="max-w-md mx-auto p-4 space-y-6">

        <section class="bg-white p-4 rounded-xl shadow-sm space-y-3">
            <h2 class="font-bold border-b pb-2 text-gray-700 uppercase text-sm">Datos de Entrega</h2>
            <input type="text" id="nombre" placeholder="Nombre completo" class="w-full p-2 border rounded-lg text-sm">
            <input type="text" id="direccion" placeholder="Direcci贸n exacta" class="w-full p-2 border rounded-lg text-sm">
            <input type="tel" id="telefono" placeholder="Celular de contacto" class="w-full p-2 border rounded-lg text-sm">
        </section>

        <div id="menu-container" class="space-y-8">
            </div>

        <section class="bg-white p-4 rounded-xl shadow-sm space-y-3">
            <h2 class="font-bold border-b pb-2 text-gray-700 uppercase text-sm">Detalles del Pedido</h2>
            <textarea id="observaciones" placeholder="驴Alguna instrucci贸n especial? (ej. sin cebolla, m谩s salsas...)" class="w-full p-2 border rounded-lg text-sm h-20"></textarea>
            <select id="metodoPago" class="w-full p-2 border rounded-lg text-sm bg-gray-50">
                <option value="Efectivo">Efectivo</option>
                <option value="Transferencia (Nequi/Bancolombia)">Transferencia</option>
                <option value="Dat谩fono">Dat谩fono</option>
            </select>
        </section>

    </main>

    <footer class="fixed bottom-0 w-full bg-white border-t p-4 flex justify-between items-center shadow-lg max-w-md left-1/2 -translate-x-1/2">
        <div>
            <p class="text-xs text-gray-500">Total a pagar:</p>
            <p class="text-xl font-bold text-pink-600" id="totalDisplay">$0</p>
        </div>
        <button onclick="enviarWhatsApp()" class="bg-green-500 text-white px-6 py-3 rounded-full font-bold flex items-center gap-2 hover:bg-green-600">
            <i class="fab fa-whatsapp"></i> PEDIR YA
        </button>
    </footer>

    <div class="text-center p-8 opacity-50">
        <p class="text-[10px]">App desarrollada por **Vibras Positivas** &copy; 2026<br>Todos los derechos reservados.</p>
    </div>

    <script>
        const productos = [
            { cat: "Platos Fuertes", items: [
                { n: "Hamburguesa (Carne 120g + Papas)", p: 20000 },
                { n: "Salchipapa (2 Salchichas + Tocinetas)", p: 20000 },
                { n: "Chuzo de Pollo (200g + Papas)", p: 20000 },
                { n: "Perros (Salchicha Zen煤)", p: 13000 },
                { n: "Perras (4 Tocinetas)", p: 14000 },
                { n: "Sandwich", p: 10000 }
            ]},
            { cat: "Especialidades de Helado", items: [
                { n: "Ensalada de Frutas 16oz", p: 18000 },
                { n: "Fresas con Crema 16oz", p: 18000 },
                { n: "Brownie Caliente con Helado", p: 14000 },
                { n: "Banana Split", p: 14000 },
                { n: "Waffle Especial", p: 18000 },
                { n: "Salpic贸n con Helado 12oz", p: 8500 }
            ]},
            { cat: "Bebidas y Otros", items: [
                { n: "Malteada", p: 12000 },
                { n: "Jugo Natural en Agua", p: 7000 },
                { n: "Jugo Natural en Leche", p: 9000 },
                { n: "Limonada Especial", p: 10000 },
                { n: "Palito de Queso", p: 2000 },
                { n: "Porci贸n de Torta", p: 4000 }
            ]}
        ];

        let carrito = {};

        function renderMenu() {
            const container = document.getElementById('menu-container');
            productos.forEach(seccion => {
                let html = `<div class="space-y-3"><h3 class="text-lg font-bold text-pink-700 ml-2">${seccion.cat}</h3>`;
                seccion.items.forEach(item => {
                    html += `
                        <div class="bg-white p-3 rounded-lg flex justify-between items-center shadow-sm product-card">
                            <div class="flex-1">
                                <p class="font-medium text-gray-800">${item.n}</p>
                                <p class="text-pink-600 font-bold">$${item.p.toLocaleString()}</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <button onclick="updateQty('${item.n}', -1, ${item.p})" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center font-bold">-</button>
                                <span id="qty-${item.n}" class="w-4 text-center font-bold">0</span>
                                <button onclick="updateQty('${item.n}', 1, ${item.p})" class="w-8 h-8 rounded-full bg-pink-100 text-pink-600 flex items-center justify-center font-bold">+</button>
                            </div>
                        </div>`;
                });
                html += `</div>`;
                container.innerHTML += html;
            });
        }

        function updateQty(name, change, price) {
            if (!carrito[name]) carrito[name] = { qty: 0, price: price };
            carrito[name].qty = Math.max(0, carrito[name].qty + change);
            document.getElementById(`qty-${name}`).innerText = carrito[name].qty;
            calcularTotal();
        }

        function calcularTotal() {
            let total = 0;
            for (let item in carrito) {
                total += carrito[item].qty * carrito[item].price;
            }
            document.getElementById('totalDisplay').innerText = `$${total.toLocaleString()}`;
        }

        function enviarWhatsApp() {
            const nombre = document.getElementById('nombre').value;
            const direccion = document.getElementById('direccion').value;
            const telefono = document.getElementById('telefono').value;
            const notas = document.getElementById('observaciones').value;
            const pago = document.getElementById('metodoPago').value;
            const fecha = new Date().toLocaleString('es-CO');

            if (!nombre || !direccion) {
                alert("Por favor completa nombre y direcci贸n");
                return;
            }

            let pedidoTexto = ` *NUEVO PEDIDO - HELADOS RICA FRUTA* \n`;
            pedidoTexto += `--------------------------------\n`;
            pedidoTexto += ` *Fecha:* ${fecha}\n`;
            pedidoTexto += ` *Cliente:* ${nombre}\n`;
            pedidoTexto += ` *Direcci贸n:* ${direccion}\n`;
            pedidoTexto += ` *Celular:* ${telefono}\n`;
            pedidoTexto += `--------------------------------\n`;
            pedidoTexto += ` *DETALLE DEL PEDIDO:*\n`;

            let tieneItems = false;
            for (let item in carrito) {
                if (carrito[item].qty > 0) {
                    pedidoTexto += `- ${carrito[item].qty}x ${item} ($${(carrito[item].qty * carrito[item].price).toLocaleString()})\n`;
                    tieneItems = true;
                }
            }

            if (!tieneItems) {
                alert("Agrega al menos un producto");
                return;
            }

            pedidoTexto += `--------------------------------\n`;
            pedidoTexto += ` *Notas:* ${notas || 'Ninguna'}\n`;
            pedidoTexto += ` *Forma de Pago:* ${pago}\n`;
            pedidoTexto += ` *TOTAL A PAGAR: ${document.getElementById('totalDisplay').innerText}*\n\n`;
            pedidoTexto += `_Pedido enviado desde la App Oficial_`;

            const url = `https://api.whatsapp.com/send?phone=573137220124&text=${encodeURIComponent(pedidoTexto)}`;
            window.open(url, '_blank');
        }

        renderMenu();
    </script>
</body>
</html>
